
---
tags:
  - maths
---

# 2D极坐标

## 极坐标的概念(二维)

不同于笛卡尔坐标系有一个圆点和两个轴向来表示空间内一个点，极坐标定义原点为空间中心点，用一个轴向半径和旋转角度(表示逆时针旋转)来描述空间位置$(r,θ)$：

![[Pic_155.png]]

## 2D极坐标混叠现象

在笛卡尔坐标系中使用的是x轴偏移和y轴偏移来确定空间一个位置信息因此反过来说一个位置信息用x,y轴的偏移来描述的时候是唯一确定的坐标值，但在极坐标系中并非如此，因为表示旋转角的$θ$和 $θ+360°$表示的旋转量是相同的，同样$(-r,θ)$与$(r,θ)$表示的也并非同一点，因此这种在极坐标空间中一个点有多中表达坐标的现象就被称为混叠现象。(虽然极坐标空间内一个点可以由不同坐标表示，但是一个坐标所表示的点是确定及明确的)

## 同一位置的不同坐标

由于混叠现象，同一个点可以由不同的坐标描述，这些描述同一个点的极坐标满足以下规律： $(r,θ) 与((-1)ⁿr, θ + n*180°)$表示的是同一个坐标点($n$为整数)。

## 标准极坐标

由于表示同一个点的极坐标可以有无数个，我们为了便于理解将符合以下规则的坐标称为标准极坐标：1.  如果$r=0$则θ也为0表示原点  2.  θ的范围在$(-180°,180°]$,左侧（负）轴向为$180°$      3.  $r >= 0$

# 笛卡尔坐标与2D极坐标转换

## 极坐标转化到笛卡尔坐标

假设极坐标为$(r,θ)$ 去转换为笛卡尔坐标系的坐标$x = r*cosθ, y = r*sinθ$

![[Pic_156.png]]

## 笛卡尔坐标转化极坐标

由笛卡尔坐标系转化到极坐标系就有些麻烦，由上图可知:  $r²= x² + y², tanθ = y / x; =>θ =atan(y/x) => θ [-90°~90°]$
此处问题就出现了： 1. $x = 0$时 除法非法  2.  $atan(y/x)$只能表示$[-90°~90°]$的范围，丢失了x,y在四个象限中$[-180°~180°]$的范围精度，因此对θ的计算就要按如下区分：

![[Pic_157.png]]

# 3D极坐标

## 3D极坐标

$(r,θ)$表示的极坐标是基于2D平面的极坐标，3D空间的极坐标可想而知由三个变量表示三维空间坐标，此处由两种极坐标表示方式，第一种是增加一个表示距离的维度$(r,θ,z)$形成圆柱体坐标，另一种是增加一个表示角度维度$(r,θ,β)$形成球星坐标。

## 圆柱体坐标

圆柱体3D极坐标是在2D极坐标的基础上增加一个垂直于2D平面的轴向$z$，由表示2D空间的距离(半径)表示2D空间的角度$θ$，和垂直于该2D平面的高度$z$描述的空间位置$(r,θ,z)$。

![[Pic_158.png]]

## 球型3D极坐标

球形3D极坐标是在2D极坐表的基础上增加绕垂直轴旋转角度β形成的空间位置$(r,θ,β)$。$θ$一般表示2D空间逆时针旋转角度，$β$表示与垂直轴夹角，$r$表示与原点距离。（此处只是通常情况，有些人会把$β$定义为与水平面的夹角即$90°-β$）实际应用圆柱体坐标的比较少更多的使用球形坐标，以下所有3D极坐标都是指球形坐标。

![[Pic_159.png]]

# 笛卡尔坐标与3D极坐标转换

## 3D极坐标的混叠

在2D极坐标中，旋转角度增加/减少360°的整数倍后仍然表示同一个点，童谣的3D极坐标也一样，每个旋转角度增加/减少360°的整数倍后表示的也是同一个点。但3D极坐标在角度方面更为复杂，当$r$相同时$(θ,β)$与$(θ+/-180°,180°-β)$表示同一坐标，eg: $θ = 90°,β = 45°$的点与$θ = 180°-90°,β = 180° - 45°$是同一个点位。这里要注意下如果$β$为90°则会出现万向节死锁问题将角度限制在2D平面内。与2D标准极坐标类似3D标准极坐标更为复杂：

![[Pic_160.png]]

## 3D极坐标与笛卡尔坐标的转换

3D笛卡尔坐标系分为左手系和右手系，默认3D极坐标对应右手系，在此先推导3D极坐标转换到右手系笛卡尔坐标系的过程：

![[Pic_161.png]]

由上图$r$在平面上的投影为$d$，由几何三角形只是可知：$z / r = cosβ$,  当$β$为$90°$时$r$会映射到2D平面的$(x1,y1)$位置且三角形$(x1 o y1)$与三角形$(x,o,y)$为相似三角形。相似三角形可以得出$x / x1 = y / y1 = d / r$而2D空间内$(x1,y1)$则有 $x1 = r*cosθ, y1 = r * sinθ$
由以上条件可以推导出右手坐标系下坐标为：
$x = rsinβcosθ, y = rsinβsinθ, z = rcosβ$
左手系坐标系仅y轴方向相反:
$x = rsinβcosθ, y = -rsinβsinθ, z = rcosβ$
笛卡尔坐标系转化到3D极坐标:    $r² = x² + y² +z²$
$β = atan(x/z),θ = asin(-y/r)$ 当然还要考虑临界值等问题。

# 总结

- 极坐标通俗点来讲就是用距离和角度来定位位置
- 极坐标与笛卡尔坐标系的转换推导并无难度，主要是在临界值的处理上要分情况处理
---
tags:
  - maths csr csc
---
# 1. 概述

[[2. 矩阵|矩阵]]是我们经常会使用的一个数学工具，在游戏中经常会被用来表示一个空间信息等。但当我们要存储的数据很多时，这可能将会是一个巨大的数据量。例如，我们需要存储角色脸部表情的数据信息，脸部大概有600多根骨骼，利用FACS表情编码系统可以将面部表情抽象成为200多个动作单元(AU)。所有的表情又可以根据不同的AU按照不同比例组合拼装而成，当我们要记录玩家所有可能的表情数据时这将会是一个非常大量级的矩阵信息(每个矩阵用来记录一个骨骼空间信息)。此时我们就需要对所有表情数据进行压缩。

经过观察分析，我们发现对于组成脸部表情的骨骼而言其可移动范围非常有限，即：特定骨骼只能沿着很少的一个或两个方向移动/旋转(eg: 眼皮 鼻子无论做任何表情都只能上下移动)。这也就意味着虽然我们使用矩阵来承载骨骼的位置, 旋转，缩放信息，但对于表情数据而言真正需要修改的数据非常有限，因此这就为我们使用稀疏矩阵对数据进行压缩提供了可行性。

# 2. 稀疏矩阵

上述表情数据就是一个典型的稀疏矩阵案例，在开始讨论稀疏矩阵压缩前我们先来认识下什么是稀疏矩阵？

稀疏矩阵是指：矩阵中大部分元素为0(或等于某个特定值)的矩阵。稀疏度是矩阵中0或特定元素的比例。如果稀疏度高(即0或者特定元素的比例高)那么这个矩阵就可以被认为是稀疏矩阵。

我们知道，要表示三维空间中位置，旋转，缩放信息需要是一个3*4或者4*4矩阵，而上文中提到记录面部骨骼在做不同表情时很多骨骼只能沿特定的一个或两个方向移动或旋转，并且骨骼肯定不会缩放，因此对于表情信息而言其每根骨骼